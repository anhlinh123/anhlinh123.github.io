<!DOCTYPE html>
<html>
<head>
  <title>PushNotification</title>
</head>
<body>
    <script>
        function updateButton(button, permission) {
            if (window.Notification.permission == 'granted') {
                button.innerText = 'Subscribed'
                button.disabled = true
            }
            if (window.Notification.permission == 'denied') {
                button.innerText = 'Unsubscribed'
                button.disabled = true
            }
        }

        const button = document.createElement('button')
        button.innerText = 'Subscribe'
        button.onclick = function() {
            alert('Button is clicked')
            Notification.requestPermission().then(function (result) {
                updateButton(button, window.Notification.permission)
            }
        }
        if (!'Notification' in window) {
            button.innerText = 'Unsupported browser'
        }
        else {
            updateButton(button, window.Notification.permission)
        }

        document.body.appendChild(button)
    </script>
</body>
</html>
